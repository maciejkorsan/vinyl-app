<div class="container" ">
  <h2 class="mb-4 text-2xl font-bold">Search Discogs Database</h2>
  <%= turbo_frame_tag :modal do %>
    <dialog data-controller="modal" data-modal-target="modal"  open id="innermodal" class="fixed text-black max-w-4xl w-full inset-0 z-10 p-6 rounded-lg backdrop:backdrop-blur-md backdrop:bg-gray-800 max-h-[90dvh] overflow-hidden">
      <button  data-action="click->modal#close"  class="absolute top-4 right-4">Close</button>
      <div data-controller="discogs-search">
        <div>
          <%= form_with(url: results_records_path, method: :get, local: true, class: "mb-4", data: {controller: "form", turbo_frame: "discogs_results", "discogs-search-target": "form" }) do |f| %>
            <div class="input-group">
              <%= f.text_field :query, class: "form-control text-black p-2", placeholder: "Search by artist or album...", data: {action: "input->form#submit", "discogs-search-target": "input"},  required: true %>
            </div>
          <% end %>
          <button data-action="discogs-search#scan" class="px-4 py-2 text-white bg-blue-500 rounded-md">Scan</button>
          <video id="video" width="320" height="240" autoplay data-discogs-search-target="video" playsinline> </video>
        </div>
        <%= turbo_frame_tag :discogs_results, src: "/records/results" ,  class:"h-full overflow-y-auto"  do %>
          <p>Loading results</p>
        <% end %>
      </div>
    </dialog>
  <% end %>
</div>
